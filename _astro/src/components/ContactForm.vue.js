import{i as e,r as a,o as s,a as l,b as t,w as n,j as o,e as i,f as d,F as r,h as c}from"../../../vue.v3.2.0-beta.7-6eace22e.js";const m={props:{lang:String},setup(){const l=e({fname:"",lname:"",subject:"",email:"",message:""}),t=a({fname:!1,lname:!1,subject:!1,email:!1,message:!1}),n=a({disabled:!1,sending:!1,error:!1,success:!1}),o=function(){Object.keys(l.value).forEach((e=>{l.value[e].length<1?(t[e]=!0,console.log("true",t[e]),n.disabled=!1):(t[e]=!1,console.log("false",t[e]))})),!0===Object.values(t).every(i)&&(async()=>{const e={method:"POST",mode:"cors",header:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({fname:l.value.fname,lname:l.value.lname,subject:l.value.subject,email:l.value.email,message:l.value.message})};try{console.log(e);const a=await fetch("https://us-central1-form-forwarder-v1.cloudfunctions.net/app/infoattheenglishnookch",e);if(console.dir(a),console.dir(a.body),200!=a.status)throw"Form sending failed";n.success=!0}catch(e){n.disabled=!1,n.sending=!1,n.error=!0,console.log("Post failed. Reason:"+e)}})()},i=e=>!1===e;return s((()=>{let e=document.createElement("script");e.setAttribute("src","https://www.google.com/recaptcha/api.js"),document.head.appendChild(e),window.validateForm=o})),{form:l,formValidation:t,validateForm:o,loading:function(){n.disabled=!0},translatedContent:{en:{fname:"First Name",lname:"Last Name",email:"E-Mail",subj:"Subject",body:"How may I help you…?",required:"Required",error:"Oh no! Please try again.",success:"Your message was successfully sent!",button:"Send"},de:{fname:"Vorname",lname:"Nachname",email:"E-Mail",subj:"Betreff",body:"Wie kann ich Ihnen helfen…?",required:"Bitte füllen Sie dieses Feld aus",error:"Oh nein! Bitte, versuchen Sie es noch mal.",success:"Ihre Nachricht wurde erfolgreich abgeschickt!",button:"Abschicken"},fr:{fname:"Prénom",lname:"Nom",email:"E-mail",subj:"Sujet",body:"Comment puis-je vous aider…?",required:"Veuillez remplir ce champ",error:"Oh non! Réessayez, s'il vous plaît.",success:"Votre message a été envoyé avec succès!",button:"Envoyer"}},formStatus:n}}},u={key:0},f={id:"contact",action:"/"},p={class:"field is-horizontal"},g={class:"field-body"},h={class:"field"},b={class:"control is-expanded"},v={key:0,class:"help is-danger"},y={class:"field"},j={class:"control is-expanded"},C={key:0,class:"help is-danger"},V={class:"field is-horizontal"},k={class:"field-body"},S={class:"field is-expanded"},w={class:"control is-expanded"},x={key:0,class:"help is-danger"},q={class:"field is-horizontal"},O={class:"field-body"},z={class:"field"},A={class:"control"},N={key:0,class:"help is-danger"},F={class:"field is-horizontal"},E={class:"field-body"},U={class:"field"},P={class:"control"},I={key:0,class:"help is-danger"},R={class:"field is-horizontal"},B={class:"field-body"},M={class:"field"},Y={class:"control"},H={key:0,class:"help is-danger mt-2"},J={key:1},L={class:"box ml-6 mr-6"};function T(e,a){return c(),l(r,null,[e.formStatus.success?d("v-if",!0):(c(),l("div",u,[t("form",f,[t("fieldset",{disabled:e.formStatus.disabled},[t("div",p,[t("div",g,[t("div",h,[t("p",b,[n(t("input",{class:["input",{"is-danger":e.formValidation.fname}],type:"text",placeholder:e.translatedContent[e.lang].fname,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.fname=a)},null,10,["placeholder"]),[[o,e.form.fname]])]),e.formValidation.fname?(c(),l("p",v,i(e.translatedContent[e.lang].required),1)):d("v-if",!0)]),t("div",y,[t("p",j,[n(t("input",{class:["input",{"is-danger":e.formValidation.lname}],type:"text",placeholder:e.translatedContent[e.lang].lname,"onUpdate:modelValue":a[2]||(a[2]=a=>e.form.lname=a)},null,10,["placeholder"]),[[o,e.form.lname]])]),e.formValidation.lname?(c(),l("p",C,i(e.translatedContent[e.lang].required),1)):d("v-if",!0)])])]),t("div",V,[t("div",k,[t("div",S,[t("p",w,[n(t("input",{class:["input",{"is-danger":e.formValidation.email}],type:"tel",placeholder:e.translatedContent[e.lang].email,"onUpdate:modelValue":a[3]||(a[3]=a=>e.form.email=a)},null,10,["placeholder"]),[[o,e.form.email]])]),e.formValidation.email?(c(),l("p",x,i(e.translatedContent[e.lang].required),1)):d("v-if",!0)])])]),t("div",q,[t("div",O,[t("div",z,[t("div",A,[n(t("input",{class:["input",{"is-danger":e.formValidation.subject}],type:"text",placeholder:e.translatedContent[e.lang].subj,"onUpdate:modelValue":a[4]||(a[4]=a=>e.form.subject=a)},null,10,["placeholder"]),[[o,e.form.subject]])]),e.formValidation.subject?(c(),l("p",N,i(e.translatedContent[e.lang].required),1)):d("v-if",!0)])])]),t("div",F,[t("div",E,[t("div",U,[t("div",P,[n(t("textarea",{class:["textarea",{"is-danger":e.formValidation.message}],placeholder:e.translatedContent[e.lang].body,"onUpdate:modelValue":a[5]||(a[5]=a=>e.form.message=a)},null,10,["placeholder"]),[[o,e.form.message]])]),e.formValidation.message?(c(),l("p",I,i(e.translatedContent[e.lang].required),1)):d("v-if",!0)])])]),t("div",R,[t("div",B,[t("div",M,[t("div",Y,[t("button",{class:["g-recaptcha button is-info has-text-black-bis",{"is-loading":e.formStatus.disabled}],"data-sitekey":"6LfeXgccAAAAAPeC-YrfS3bGHOgIMoYzROdNJ8Ur","data-callback":"validateForm","data-action":"submit",onClick:a[6]||(a[6]=a=>e.loading())},i(e.translatedContent[e.lang].button),3),e.formStatus.error?(c(),l("p",H,i(e.translatedContent[e.lang].error),1)):d("v-if",!0)])])])])],8,["disabled"])])])),e.formStatus.success?(c(),l("div",J,[t("div",L,[t("p",null,i(e.translatedContent[e.lang].success),1)])])):d("v-if",!0),d(" endNew ")],64)}m.render=T;export{m as default,T as render};
